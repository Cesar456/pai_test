protocolVersion: 2
name: test1_job
type: job
jobRetryCount: 0
user: cesar
token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImNlc2FyIiwiYXBwbGljYXRpb24iOmZhbHNlLCJpYXQiOjE2MTQxNTgyMDEsImV4cCI6MTYxNDc2MzAwMX0.f37LQei1Ju3Sv64lwty9dfxMTPBllFukdgm1K_Q9ANQ
prerequisites:
  - type: dockerimage
    uri: "openpai/standard:python_3.6-pytorch_1.4.0-gpu"
    name: docker_image_0
taskRoles:
  taskrole:
    instances: 1
    completion:
      minFailedInstances: 1
      minSucceededInstances: -1
    taskRetryCount: 0
    dockerImage: docker_image_0
    resourcePerInstance:
      gpu: 1
      cpu: 1
      memoryMB: 300
    commands:
      - "git clone https://github.com/Cesar456/pai_test.git"
      - pwd
      - echo ${period}
      - cd pai_test
      - python test2.py ${a}
defaults:
  virtualCluster: default
extras:
  storages:
    - name: nfs-storage
      mountPath: /data
